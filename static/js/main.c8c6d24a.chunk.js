(this["webpackJsonpbabylon-test"]=this["webpackJsonpbabylon-test"]||[]).push([[0],{49:function(e,a,n){},50:function(e,a,n){},51:function(e,a,n){},84:function(e,a,n){"use strict";n.r(a);var t=n(14),c=n.n(t),i=n(41),s=n.n(i),r=(n(49),n(50),n(35)),o=(n(51),n(26)),d=n.n(o),l=n(42),j=n.n(l),u=(n(82),n(11));d.a.accessToken="pk.eyJ1IjoicHJhdHZhciIsImEiOiJja2kxbmQ1b2oyanY2MnlwNWhzNGNjYjhvIn0.kYH7yt71R1HHESepho0Rhg";var b,p=function(e){var a=e.map,n=e.setMap,t=c.a.useRef(null);return c.a.useEffect((function(){n(new d.a.Map({container:t.current,style:"mapbox://styles/mapbox/dark-v10",center:[0,30],zoom:.5,preserveDrawingBuffer:!0}))}),[]),c.a.useEffect((function(){a&&a.addControl(new j.a({accessToken:d.a.accessToken,flyTo:{speed:10},marker:!1,mapboxgl:d.a}))}),[a]),Object(u.jsx)("div",{ref:t,style:{position:"absolute",height:"100%",width:"100%"}})},f=n(16),h=n(43),v=n(44),m=function(e){var a=Object(t.useRef)(null),n=e.antialias,c=e.engineOptions,i=e.adaptToDeviceRatio,s=e.sceneOptions,r=e.onRender,o=(e.onSceneReady,Object(v.a)(e,["antialias","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","onSceneReady"]));return Object(t.useEffect)((function(){if(a.current){var t=new f.c(a.current,n,c,i),o=new f.f(t,s);o.isReady()?e.onSceneReady(o):o.onReadyObservable.addOnce((function(a){return e.onSceneReady(a)})),t.runRenderLoop((function(){"function"===typeof r&&r(o),o.render()}));var d=function(){o.getEngine().resize()};return window&&window.addEventListener("resize",d),function(){o.getEngine().dispose(),window&&window.removeEventListener("resize",d)}}}),[a]),Object(u.jsx)("canvas",Object(h.a)({style:{height:"100%",width:"100%"},ref:a},o))},O=function(e){var a=new f.a("Camera",Math.PI/4,Math.PI/4,4,f.i.Zero(),e);a.setTarget(f.i.Zero());var n=e.getEngine().getRenderingCanvas();a.attachControl(n,!0);var t=new f.d("light",new f.i(0,1,0),e);t.groundColor=new f.b(1,1,1),t.specular=f.b.Black(),b=f.e.CreateBox("box",{width:2,height:1.5,depth:1.5})},w=function(){var e=Object(t.useState)("map"),a=Object(r.a)(e,2),n=a[0],c=a[1],i=Object(t.useState)(!1),s=Object(r.a)(i,2),o=s[0],d=s[1],l=Object(t.useState)(null),j=Object(r.a)(l,2),h=j[0],v=j[1];return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("h1",{children:"map"===n?"Select region":"Here's your cuboid!"}),Object(u.jsx)("button",{onClick:function(){if("map"===n){d(!0);var e=h.getCanvas().toDataURL(),a=new f.g("myMaterial");a.diffuseTexture=new f.h(e),b.material=a,setTimeout((function(){d(!1),c("viewer")}),400)}else c("map")},disabled:o,children:"map"===n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("i",{className:"fa fa-camera"}),"Capture"]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("i",{className:"fa fa-plus"}),"New"]})})]}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"wrapper mapWrapper ".concat("map"===n?"active":""),children:[Object(u.jsx)(p,{map:h,setMap:v}),Object(u.jsx)("div",{className:"loading-overlay ".concat(o&&"active"),children:o?Object(u.jsx)("i",{className:"fas fa-cog fa-spin"}):Object(u.jsx)("i",{className:"fa fa-check"})})]}),Object(u.jsx)("div",{className:"wrapper viewerWrapper ".concat("viewer"===n?"active":""),children:Object(u.jsx)(m,{antialias:!0,onSceneReady:O,id:"my-canvas"})})]})]})};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.c8c6d24a.chunk.js.map